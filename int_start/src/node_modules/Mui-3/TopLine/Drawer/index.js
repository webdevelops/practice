import React from 'react'
import { SwipeableDrawer, List, ListItem, ListItemIcon, ListItemText } from '@material-ui/core';
import { Link } from 'react-router-dom';
import SmartphoneIcon from '@material-ui/icons/Smartphone';
import ShoppingBasketIcon from '@material-ui/icons/ShoppingBasket';
import PlaylistAddCheckIcon from '@material-ui/icons/PlaylistAddCheck';
import MeetingRoomIcon from '@material-ui/icons/MeetingRoom';
import AssignmentIndIcon from '@material-ui/icons/AssignmentInd';
import { connect } from 'react-redux';

import useStyles from '../styleTop';
import '../style.sass';

const SwipeableTemporaryDrawer = ({ openDrawer, closeDrawer, toggleDrawer, isAuthenticated }) => {
  console.log("TCL: SwipeableTemporaryDrawer -> isAuthenticated", isAuthenticated)
  const classes = useStyles()

  const links = isAuthenticated
    ? [
      { to: '/', label: 'Phones', icon: <SmartphoneIcon style={{ color: 'orange' }} /> },
      { to: '/basket', label: 'Basket', icon: <ShoppingBasketIcon style={{ color: 'green' }} /> },
      { to: '/task-list', label: 'Task List', icon: <PlaylistAddCheckIcon style={{ color: 'blue' }} /> },
      { to: '/logout', label: 'Logout', icon: <MeetingRoomIcon style={{ color: '#63bdf1' }} /> },
    ]
    : [
      { to: '/', label: 'Phones', icon: <SmartphoneIcon style={{ color: 'orange' }} /> },
      { to: '/basket', label: 'Basket', icon: <ShoppingBasketIcon style={{ color: 'green' }} /> },
      { to: '/sign-in', label: 'Sign In', icon: <AssignmentIndIcon style={{ color: '#63bdf1' }} /> },
      { to: '/sign-up', label: 'Sign Up', icon: <i className='fas fa-user-plus' style={{ color: '#63bdf1' }}></i> },
    ]

  const list = () => {
    return (
      <div
        className={classes.list}
        onClick={closeDrawer}
      >
        <List>
          {links.map(link => (
            <Link to={link.to} key={link.label} className='link'/* {classes.link} */>
              <ListItem button>
                <ListItemIcon>
                  {link.icon}
                </ListItemIcon>
                <ListItemText primary={link.label} />
              </ListItem>
            </Link>
          ))}
        </List>
      </div>
    )
  }

  return (
    <div className='drawer'>
      <SwipeableDrawer
        open={openDrawer}
        onClose={closeDrawer}
        onOpen={toggleDrawer}
      >
        {list()}
      </SwipeableDrawer>
    </div>
  )
}

const mapStateToProps = state => {
  return {
    isAuthenticated: !!state.internetShop.auth.token
  }
}

export default connect(mapStateToProps)(SwipeableTemporaryDrawer)