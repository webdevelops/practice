import React, { useState } from 'react';
import AppBar from '@material-ui/core/AppBar';
import Toolbar from '@material-ui/core/Toolbar';
import Typography from '@material-ui/core/Typography';
import IconButton from '@material-ui/core/IconButton';
import MenuIcon from '@material-ui/icons/Menu';
import { Link } from 'react-router-dom';
import { withRouter } from 'react-router-dom'
// import { ThemeProvider } from '@material-ui/core';

import useStyles from './styleTop';
import HideOnScroll from 'Mui-3/TopLine/HideOnScroll';
import SwipeableTemporaryDrawer from 'Mui-3/TopLine/Drawer';
import ToggleSwitch from 'Mui-3/TopLine/ToggleSwitch';
import MobileMenu from 'Mui-3/TopLine/MobileMenu';

const DenseAppBar = props => {
  const classes = useStyles();
  const [openDrawer, setOpenDrawer] = useState(false)
  const [toSignUp, setToSignUp] = useState(false)

  const toggleDrawer = () => setOpenDrawer(!openDrawer)
  const closeDrawer = () => setOpenDrawer(false)

  const handleClickLink = () => {
    // props.history.push('/sign-up')
    setToSignUp(!toSignUp)
  }

  return (
    <div className={classes.grow}>
      <HideOnScroll {...props}>
        <AppBar className='top-line' color='primary'>
          <Toolbar color='primary'>

            <IconButton
              edge="start"
              className={classes.menuButton}
              color="inherit"
              aria-label="menu"
              onClick={toggleDrawer}
            >
              <MenuIcon />
            </IconButton>

            <Typography variant="h6" color="inherit" className={classes.topLogo}>
              Quick Shop
              </Typography>

            <div className={classes.grow}></div>

            <div className={classes.sectionDeckTop}>
              <SwipeableTemporaryDrawer
                openDrawer={openDrawer}
                closeDrawer={closeDrawer}
                toggleDrawer={toggleDrawer}
              />

              <ToggleSwitch />

              <Link
                to='/sign-up'
                // className={classes.signUp}
                className='sign-up__lable'
                onClick={handleClickLink}
              >
                Sign Up
              </Link>

            </div>

            <div className={classes.sectionMobile}>
              <MobileMenu />
            </div>

          </Toolbar>
        </AppBar>
      </HideOnScroll>
      {/* <Toolbar /> */}
    </div>
  );
}

export default withRouter(DenseAppBar)