
const initialState = []

const phoneExist = (phones, phone) => {
  return !! phones.find(item => item.id === phone.id)
}

export default (state = initialState, { type, payload }) => {
  switch (type) {
    case 'FETCH_PHONES_SUCCESS':
      return payload

    case 'LOAD_MORE_PHONES_SUCCESS':
      return [...state, ...payload]

    case 'FETCH_PHONE_BY_ID_SUCCESS':
      if (phoneExist(state, payload)) {
        return state
      }  
      return [payload]

    default:
      return state
  }
}

// ----------- state - object -----------

// const initialState = {}

// export default (state = initialState, { type, payload }) => {
//   switch (type) {
//     case 'FETCH_PHONES_SUCCESS':
//       const newValues = {}
//       payload.forEach(phone => newValues[phone.id] = phone)
//       return newValues

//     default:
//       return state
//   }
// }